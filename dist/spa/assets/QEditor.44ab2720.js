import{d as It,w as W,o as ae,a as te,R as Wt,g as J,r as I,c as C,S as Ut,U as Ue,V as Kt,O as pe,b as ne,W as Ke,X as Qt,i as Zt,h as k,P as ie,T as Qe,Y as Ze,Z as Re,L as ke,n as Gt,$ as Yt,I as Ge,J as xe,K as De,l as Ne,a0 as et,m as Xt,a1 as Jt,M as en,a2 as tn,a3 as tt}from"./index.084cebfa.js";import{Q as Ce,b as le,c as re,k as nn,d as on}from"./dom.54c08c2d.js";import{a as ln,v as gt,g as _e,b as pt,u as bt,Q as fe,c as an,d as rn,e as un}from"./QBtn.32281a60.js";import{b as Pe,c as Ae}from"./helper.ba0d767a.js";import{c as sn,g as yt}from"./scroll.5a48eb9c.js";function cn({validate:e,resetValidation:t,requiresQForm:n}){const o=It(Wt,!1);if(o!==!1){const{props:l,proxy:a}=J();Object.assign(a,{validate:e,resetValidation:t}),W(()=>l.disable,i=>{i===!0?(typeof t=="function"&&t(),o.unbindComponent(a)):o.bindComponent(a)}),ae(()=>{l.disable!==!0&&o.bindComponent(a)}),te(()=>{l.disable!==!0&&o.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const nt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ot=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,lt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,be=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ye=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Fe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>nt.test(e),hexaColor:e=>ot.test(e),hexOrHexaColor:e=>lt.test(e),rgbColor:e=>be.test(e),rgbaColor:e=>ye.test(e),rgbOrRgbaColor:e=>be.test(e)||ye.test(e),hexOrRgbColor:e=>nt.test(e)||be.test(e),hexaOrRgbaColor:e=>ot.test(e)||ye.test(e),anyColor:e=>lt.test(e)||be.test(e)||ye.test(e)},dn=[!0,!1,"ondemand"],fn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>dn.includes(e)}};function vn(e,t){const{props:n,proxy:o}=J(),l=I(!1),a=I(null),i=I(null);cn({validate:w,resetValidation:c});let u=0,b;const p=C(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),s=C(()=>n.disable!==!0&&p.value===!0),y=C(()=>n.error===!0||l.value===!0),E=C(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:a.value);W(()=>n.modelValue,()=>{H()}),W(()=>n.reactiveRules,O=>{O===!0?b===void 0&&(b=W(()=>n.rules,()=>{H(!0)})):b!==void 0&&(b(),b=void 0)},{immediate:!0}),W(e,O=>{O===!0?i.value===null&&(i.value=!1):i.value===!1&&(i.value=!0,s.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&z())});function c(){u++,t.value=!1,i.value=null,l.value=!1,a.value=null,z.cancel()}function w(O=n.modelValue){if(s.value!==!0)return!0;const x=++u,T=t.value!==!0?()=>{i.value=!0}:()=>{},B=(F,q)=>{F===!0&&T(),l.value=F,a.value=q||null,t.value=!1},M=[];for(let F=0;F<n.rules.length;F++){const q=n.rules[F];let V;if(typeof q=="function"?V=q(O,Fe):typeof q=="string"&&Fe[q]!==void 0&&(V=Fe[q](O)),V===!1||typeof V=="string")return B(!0,V),!1;V!==!0&&V!==void 0&&M.push(V)}return M.length===0?(B(!1),!0):(t.value=!0,Promise.all(M).then(F=>{if(F===void 0||Array.isArray(F)===!1||F.length===0)return x===u&&B(!1),!0;const q=F.find(V=>V===!1||typeof V=="string");return x===u&&B(q!==void 0,q),q===void 0},F=>(x===u&&(console.error(F),B(!0)),!1)))}function H(O){s.value===!0&&n.lazyRules!=="ondemand"&&(i.value===!0||n.lazyRules!==!0&&O!==!0)&&z()}const z=Ut(w,0);return te(()=>{b!==void 0&&b(),z.cancel()}),Object.assign(o,{resetValidation:c,validate:w}),Ue(o,"hasError",()=>y.value),{isDirtyModel:i,hasRules:p,hasError:y,errorMessage:E,validate:w,resetValidation:c}}const it=/^on[A-Z]/;function wt(e,t){const n={listeners:I({}),attributes:I({})};function o(){const l={},a={};for(const i in e)i!=="class"&&i!=="style"&&it.test(i)===!1&&(l[i]=e[i]);for(const i in t.props)it.test(i)===!0&&(a[i]=t.props[i]);n.attributes.value=l,n.listeners.value=a}return Kt(o),o(),n}let He,we=0;const X=new Array(256);for(let e=0;e<256;e++)X[e]=(e+256).toString(16).substring(1);const hn=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),at=4096;function kt(){(He===void 0||we+16>at)&&(we=0,He=hn(at));const e=Array.prototype.slice.call(He,we,we+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,X[e[0]]+X[e[1]]+X[e[2]]+X[e[3]]+"-"+X[e[4]]+X[e[5]]+"-"+X[e[6]]+X[e[7]]+"-"+X[e[8]]+X[e[9]]+"-"+X[e[10]]+X[e[11]]+X[e[12]]+X[e[13]]+X[e[14]]+X[e[15]]}let ue=[],ge=[];function xt(e){ge=ge.filter(t=>t!==e)}function mn(e){xt(e),ge.push(e)}function rt(e){xt(e),ge.length===0&&ue.length!==0&&(ue[ue.length-1](),ue=[])}function $e(e){ge.length===0?e():ue.push(e)}function gn(e){ue=ue.filter(t=>t!==e)}function Ve(e){return e===void 0?`f_${kt()}`:e}function je(e){return e!=null&&(""+e).length!==0}const pn={...Pe,...fn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},bn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function yn(){const{props:e,attrs:t,proxy:n,vnode:o}=J();return{isDark:Ae(e,n.$q),editable:C(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:I(!1),focused:I(!1),hasPopupOpen:!1,splitAttrs:wt(t,o),targetUid:I(Ve(e.for)),rootRef:I(null),targetRef:I(null),controlRef:I(null)}}function wn(e){const{props:t,emit:n,slots:o,attrs:l,proxy:a}=J(),{$q:i}=a;let u=null;e.hasValue===void 0&&(e.hasValue=C(()=>je(t.modelValue))),e.emitValue===void 0&&(e.emitValue=h=>{n("update:modelValue",h)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:f,onFocusout:m}),Object.assign(e,{clearValue:S,onControlFocusin:f,onControlFocusout:m,focus:q}),e.computedCounter===void 0&&(e.computedCounter=C(()=>{if(t.counter!==!1){const h=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,_=t.maxlength!==void 0?t.maxlength:t.maxValues;return h+(_!==void 0?" / "+_:"")}}));const{isDirtyModel:b,hasRules:p,hasError:s,errorMessage:y,resetValidation:E}=vn(e.focused,e.innerLoading),c=e.floatingLabel!==void 0?C(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):C(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),w=C(()=>t.bottomSlots===!0||t.hint!==void 0||p.value===!0||t.counter===!0||t.error!==null),H=C(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),z=C(()=>`q-field row no-wrap items-start q-field--${H.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(c.value===!0?" q-field--float":"")+(x.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(s.value===!0?" q-field--error":"")+(s.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&w.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),O=C(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(s.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),x=C(()=>t.labelSlot===!0||t.label!==void 0),T=C(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&s.value!==!0?` text-${t.labelColor}`:"")),B=C(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:c.value,modelValue:t.modelValue,emitValue:e.emitValue})),M=C(()=>{const h={for:e.targetUid.value};return t.disable===!0?h["aria-disabled"]="true":t.readonly===!0&&(h["aria-readonly"]="true"),h});W(()=>t.for,h=>{e.targetUid.value=Ve(h)});function F(){const h=document.activeElement;let _=e.targetRef!==void 0&&e.targetRef.value;_&&(h===null||h.id!==e.targetUid.value)&&(_.hasAttribute("tabindex")===!0||(_=_.querySelector("[tabindex]")),_&&_!==h&&_.focus({preventScroll:!0}))}function q(){$e(F)}function V(){gn(F);const h=document.activeElement;h!==null&&e.rootRef.value.contains(h)&&h.blur()}function f(h){u!==null&&(clearTimeout(u),u=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",h))}function m(h,_){u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",h)),_!==void 0&&_())})}function S(h){pe(h),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),ne(()=>{E(),i.platform.is.mobile!==!0&&(b.value=!1)})}function g(){const h=[];return o.prepend!==void 0&&h.push(k("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ie},o.prepend())),h.push(k("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},A())),s.value===!0&&t.noErrorIcon===!1&&h.push(D("error",[k(Ce,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?h.push(D("inner-loading-append",o.loading!==void 0?o.loading():[k(ln,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&h.push(D("inner-clearable-append",[k(Ce,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:S})])),o.append!==void 0&&h.push(k("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ie},o.append())),e.getInnerAppend!==void 0&&h.push(D("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&h.push(e.getControlChild()),h}function A(){const h=[];return t.prefix!==void 0&&t.prefix!==null&&h.push(k("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&h.push(e.getShadowControl()),e.getControl!==void 0?h.push(e.getControl()):o.rawControl!==void 0?h.push(o.rawControl()):o.control!==void 0&&h.push(k("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(B.value))),x.value===!0&&h.push(k("div",{class:T.value},le(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&h.push(k("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),h.concat(le(o.default))}function $(){let h,_;s.value===!0?y.value!==null?(h=[k("div",{role:"alert"},y.value)],_=`q--slot-error-${y.value}`):(h=le(o.error),_="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(h=[k("div",t.hint)],_=`q--slot-hint-${t.hint}`):(h=le(o.hint),_="q--slot-hint"));const Y=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&Y===!1&&h===void 0)return;const L=k("div",{key:_,class:"q-field__messages col"},h);return k("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ie},[t.hideBottomSpace===!0?L:k(Qe,{name:"q-transition--field-message"},()=>L),Y===!0?k("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function D(h,_){return _===null?null:k("div",{key:h,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},_)}let P=!1;return Ke(()=>{P=!0}),Qt(()=>{P===!0&&t.autofocus===!0&&a.focus()}),ae(()=>{Zt.value===!0&&t.for===void 0&&(e.targetUid.value=Ve()),t.autofocus===!0&&a.focus()}),te(()=>{u!==null&&clearTimeout(u)}),Object.assign(a,{focus:q,blur:V}),function(){const _=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...M.value}:M.value;return k("label",{ref:e.rootRef,class:[z.value,l.class],style:l.style,..._},[o.before!==void 0?k("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ie},o.before()):null,k("div",{class:"q-field__inner relative-position col self-stretch"},[k("div",{ref:e.controlRef,class:O.value,tabindex:-1,...e.controlEvents},g()),w.value===!0?$():null]),o.after!==void 0?k("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ie},o.after()):null])}}const ut={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Se={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ct=Object.keys(Se);Ct.forEach(e=>{Se[e].regex=new RegExp(Se[e].pattern)});const kn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ct.join("")+"])|(.)","g"),st=/[.*+?^${}()|[\]\\]/g,Q=String.fromCharCode(1),xn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Cn(e,t,n,o){let l,a,i,u,b,p;const s=I(null),y=I(c());function E(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}W(()=>e.type+e.autogrow,H),W(()=>e.mask,f=>{if(f!==void 0)z(y.value,!0);else{const m=q(y.value);H(),e.modelValue!==m&&t("update:modelValue",m)}}),W(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&z(y.value,!0)}),W(()=>e.unmaskedValue,()=>{s.value===!0&&z(y.value)});function c(){if(H(),s.value===!0){const f=M(q(e.modelValue));return e.fillMask!==!1?V(f):f}return e.modelValue}function w(f){if(f<l.length)return l.slice(-f);let m="",S=l;const g=S.indexOf(Q);if(g>-1){for(let A=f-S.length;A>0;A--)m+=Q;S=S.slice(0,g)+m+S.slice(g)}return S}function H(){if(s.value=e.mask!==void 0&&e.mask.length!==0&&E(),s.value===!1){u=void 0,l="",a="";return}const f=ut[e.mask]===void 0?e.mask:ut[e.mask],m=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",S=m.replace(st,"\\$&"),g=[],A=[],$=[];let D=e.reverseFillMask===!0,P="",h="";f.replace(kn,(U,v,R,Z,j)=>{if(Z!==void 0){const K=Se[Z];$.push(K),h=K.negate,D===!0&&(A.push("(?:"+h+"+)?("+K.pattern+"+)?(?:"+h+"+)?("+K.pattern+"+)?"),D=!1),A.push("(?:"+h+"+)?("+K.pattern+")?")}else if(R!==void 0)P="\\"+(R==="\\"?"":R),$.push(R),g.push("([^"+P+"]+)?"+P+"?");else{const K=v!==void 0?v:j;P=K==="\\"?"\\\\\\\\":K.replace(st,"\\\\$&"),$.push(K),g.push("([^"+P+"]+)?"+P+"?")}});const _=new RegExp("^"+g.join("")+"("+(P===""?".":"[^"+P+"]")+"+)?"+(P===""?"":"["+P+"]*")+"$"),Y=A.length-1,L=A.map((U,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+S+"*"+U):v===Y?new RegExp("^"+U+"("+(h===""?".":h)+"+)?"+(e.reverseFillMask===!0?"$":S+"*")):new RegExp("^"+U));i=$,u=U=>{const v=_.exec(e.reverseFillMask===!0?U:U.slice(0,$.length+1));v!==null&&(U=v.slice(1).join(""));const R=[],Z=L.length;for(let j=0,K=U;j<Z;j++){const ee=L[j].exec(K);if(ee===null)break;K=K.slice(ee.shift().length),R.push(...ee)}return R.length!==0?R.join(""):U},l=$.map(U=>typeof U=="string"?U:Q).join(""),a=l.split(Q).join(m)}function z(f,m,S){const g=o.value,A=g.selectionEnd,$=g.value.length-A,D=q(f);m===!0&&H();const P=M(D),h=e.fillMask!==!1?V(P):P,_=y.value!==h;g.value!==h&&(g.value=h),_===!0&&(y.value=h),document.activeElement===g&&ne(()=>{if(h===a){const L=e.reverseFillMask===!0?a.length:0;g.setSelectionRange(L,L,"forward");return}if(S==="insertFromPaste"&&e.reverseFillMask!==!0){const L=g.selectionEnd;let U=A-1;for(let v=b;v<=U&&v<L;v++)l[v]!==Q&&U++;x.right(g,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(S)>-1){const L=e.reverseFillMask===!0?A===0?h.length>P.length?1:0:Math.max(0,h.length-(h===a?0:Math.min(P.length,$)+1))+1:A;g.setSelectionRange(L,L,"forward");return}if(e.reverseFillMask===!0)if(_===!0){const L=Math.max(0,h.length-(h===a?0:Math.min(P.length,$+1)));L===1&&A===1?g.setSelectionRange(L,L,"forward"):x.rightReverse(g,L)}else{const L=h.length-$;g.setSelectionRange(L,L,"backward")}else if(_===!0){const L=Math.max(0,l.indexOf(Q),Math.min(P.length,A)-1);x.right(g,L)}else{const L=A-1;x.right(g,L)}});const Y=e.unmaskedValue===!0?q(h):h;String(e.modelValue)!==Y&&n(Y,!0)}function O(f,m,S){const g=M(q(f.value));m=Math.max(0,l.indexOf(Q),Math.min(g.length,m)),b=m,f.setSelectionRange(m,S,"forward")}const x={left(f,m){const S=l.slice(m-1).indexOf(Q)===-1;let g=Math.max(0,m-1);for(;g>=0;g--)if(l[g]===Q){m=g,S===!0&&m++;break}if(g<0&&l[m]!==void 0&&l[m]!==Q)return x.right(f,0);m>=0&&f.setSelectionRange(m,m,"backward")},right(f,m){const S=f.value.length;let g=Math.min(S,m+1);for(;g<=S;g++)if(l[g]===Q){m=g;break}else l[g-1]===Q&&(m=g);if(g>S&&l[m-1]!==void 0&&l[m-1]!==Q)return x.left(f,S);f.setSelectionRange(m,m,"forward")},leftReverse(f,m){const S=w(f.value.length);let g=Math.max(0,m-1);for(;g>=0;g--)if(S[g-1]===Q){m=g;break}else if(S[g]===Q&&(m=g,g===0))break;if(g<0&&S[m]!==void 0&&S[m]!==Q)return x.rightReverse(f,0);m>=0&&f.setSelectionRange(m,m,"backward")},rightReverse(f,m){const S=f.value.length,g=w(S),A=g.slice(0,m+1).indexOf(Q)===-1;let $=Math.min(S,m+1);for(;$<=S;$++)if(g[$-1]===Q){m=$,m>0&&A===!0&&m--;break}if($>S&&g[m-1]!==void 0&&g[m-1]!==Q)return x.leftReverse(f,S);f.setSelectionRange(m,m,"forward")}};function T(f){t("click",f),p=void 0}function B(f){if(t("keydown",f),Ze(f)===!0||f.altKey===!0)return;const m=o.value,S=m.selectionStart,g=m.selectionEnd;if(f.shiftKey||(p=void 0),f.keyCode===37||f.keyCode===39){f.shiftKey&&p===void 0&&(p=m.selectionDirection==="forward"?S:g);const A=x[(f.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(f.preventDefault(),A(m,p===S?g:S),f.shiftKey){const $=m.selectionStart;m.setSelectionRange(Math.min(p,$),Math.max(p,$),"forward")}}else f.keyCode===8&&e.reverseFillMask!==!0&&S===g?(x.left(m,S),m.setSelectionRange(m.selectionStart,g,"backward")):f.keyCode===46&&e.reverseFillMask===!0&&S===g&&(x.rightReverse(m,g),m.setSelectionRange(S,m.selectionEnd,"forward"))}function M(f){if(f==null||f==="")return"";if(e.reverseFillMask===!0)return F(f);const m=i;let S=0,g="";for(let A=0;A<m.length;A++){const $=f[S],D=m[A];if(typeof D=="string")g+=D,$===D&&S++;else if($!==void 0&&D.regex.test($))g+=D.transform!==void 0?D.transform($):$,S++;else return g}return g}function F(f){const m=i,S=l.indexOf(Q);let g=f.length-1,A="";for(let $=m.length-1;$>=0&&g>-1;$--){const D=m[$];let P=f[g];if(typeof D=="string")A=D+A,P===D&&g--;else if(P!==void 0&&D.regex.test(P))do A=(D.transform!==void 0?D.transform(P):P)+A,g--,P=f[g];while(S===$&&P!==void 0&&D.regex.test(P));else return A}return A}function q(f){return typeof f!="string"||u===void 0?typeof f=="number"?u(""+f):f:u(f)}function V(f){return a.length-f.length<=0?f:e.reverseFillMask===!0&&f.length!==0?a.slice(0,-f.length)+f:f+a.slice(f.length)}return{innerValue:y,hasMask:s,moveCursorForPaste:O,updateMaskValue:z,onMaskedKeydown:B,onMaskedClick:T}}const Sn={name:String};function qn(e){return C(()=>e.name||e.for)}function Tn(e,t){function n(){const o=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{l.items.add(a)}),{files:l.files}}catch{return{files:void 0}}}return t===!0?C(()=>{if(e.type==="file")return n()}):C(n)}const Bn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,En=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Mn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Rn=/[a-z0-9_ -]$/i;function Pn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Re.is.firefox===!0?Rn.test(n.data)===!1:Bn.test(n.data)===!0||En.test(n.data)===!0||Mn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var po=re({name:"QInput",inheritAttrs:!1,props:{...pn,...xn,...Sn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...bn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=J(),{$q:l}=o,a={};let i=NaN,u,b,p=null,s;const y=I(null),E=qn(e),{innerValue:c,hasMask:w,moveCursorForPaste:H,updateMaskValue:z,onMaskedKeydown:O,onMaskedClick:x}=Cn(e,t,P,y),T=Tn(e,!0),B=C(()=>je(c.value)),M=Pn($),F=yn(),q=C(()=>e.type==="textarea"||e.autogrow===!0),V=C(()=>q.value===!0||["text","search","url","tel","password"].includes(e.type)),f=C(()=>{const v={...F.splitAttrs.listeners.value,onInput:$,onPaste:A,onChange:_,onBlur:Y,onFocus:ke};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=M,w.value===!0&&(v.onKeydown=O,v.onClick=x),e.autogrow===!0&&(v.onAnimationend=D),v}),m=C(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:E.value,...F.splitAttrs.attributes.value,id:F.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return q.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});W(()=>e.type,()=>{y.value&&(y.value.value=e.modelValue)}),W(()=>e.modelValue,v=>{if(w.value===!0){if(b===!0&&(b=!1,String(v)===i))return;z(v)}else c.value!==v&&(c.value=v,e.type==="number"&&a.hasOwnProperty("value")===!0&&(u===!0?u=!1:delete a.value));e.autogrow===!0&&ne(h)}),W(()=>e.autogrow,v=>{v===!0?ne(h):y.value!==null&&n.rows>0&&(y.value.style.height="auto")}),W(()=>e.dense,()=>{e.autogrow===!0&&ne(h)});function S(){$e(()=>{const v=document.activeElement;y.value!==null&&y.value!==v&&(v===null||v.id!==F.targetUid.value)&&y.value.focus({preventScroll:!0})})}function g(){y.value!==null&&y.value.select()}function A(v){if(w.value===!0&&e.reverseFillMask!==!0){const R=v.target;H(R,R.selectionStart,R.selectionEnd)}t("paste",v)}function $(v){if(!v||!v.target)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const R=v.target.value;if(v.target.qComposing===!0){a.value=R;return}if(w.value===!0)z(R,!1,v.inputType);else if(P(R),V.value===!0&&v.target===document.activeElement){const{selectionStart:Z,selectionEnd:j}=v.target;Z!==void 0&&j!==void 0&&ne(()=>{v.target===document.activeElement&&R.indexOf(v.target.value)===0&&v.target.setSelectionRange(Z,j)})}e.autogrow===!0&&h()}function D(v){t("animationend",v),h()}function P(v,R){s=()=>{p=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==v&&i!==v&&(i=v,R===!0&&(b=!0),t("update:modelValue",v),ne(()=>{i===v&&(i=NaN)})),s=void 0},e.type==="number"&&(u=!0,a.value=v),e.debounce!==void 0?(p!==null&&clearTimeout(p),a.value=v,p=setTimeout(s,e.debounce)):s()}function h(){requestAnimationFrame(()=>{const v=y.value;if(v!==null){const R=v.parentNode.style,{scrollTop:Z}=v,{overflowY:j,maxHeight:K}=l.platform.is.firefox===!0?{}:window.getComputedStyle(v),ee=j!==void 0&&j!=="scroll";ee===!0&&(v.style.overflowY="hidden"),R.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.height=v.scrollHeight+"px",ee===!0&&(v.style.overflowY=parseInt(K,10)<v.scrollHeight?"auto":"hidden"),R.marginBottom="",v.scrollTop=Z}})}function _(v){M(v),p!==null&&(clearTimeout(p),p=null),s!==void 0&&s(),t("change",v.target.value)}function Y(v){v!==void 0&&ke(v),p!==null&&(clearTimeout(p),p=null),s!==void 0&&s(),u=!1,b=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{y.value!==null&&(y.value.value=c.value!==void 0?c.value:"")})}function L(){return a.hasOwnProperty("value")===!0?a.value:c.value!==void 0?c.value:""}te(()=>{Y()}),ae(()=>{e.autogrow===!0&&h()}),Object.assign(F,{innerValue:c,fieldClass:C(()=>`q-${q.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:C(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:y,emitValue:P,hasValue:B,floatingLabel:C(()=>B.value===!0&&(e.type!=="number"||isNaN(c.value)===!1)||je(e.displayValue)),getControl:()=>k(q.value===!0?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...f.value,...e.type!=="file"?{value:L()}:T.value}),getShadowControl:()=>k("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(q.value===!0?"":" text-no-wrap")},[k("span",{class:"invisible"},L()),k("span",e.shadowText)])});const U=wn(F);return Object.assign(o,{focus:S,select:g,getNativeElement:()=>y.value}),Ue(o,"nativeEl",()=>y.value),U}});function St(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=o.display;return l==="block"||l==="table"?e:St(e.parentNode)}function Oe(e,t,n){return!e||e===document.body?!1:n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function qt(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let o=0;t.count!==0&&o<e.childNodes.length;o++)n=qt(e.childNodes[o],t,n);return n}const An=/^https?:\/\//;class $n{constructor(t,n){this.el=t,this.eVm=n,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(Oe(t.anchorNode,this.el,!0)&&Oe(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const n=t.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?St(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const n=document.createRange(),o=document.getSelection();t!==null?(n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),o.removeAllRanges(),o.addRange(n)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let t=-1,n;const o=document.getSelection(),l=this.el.parentNode;if(o.focusNode&&Oe(o.focusNode,l))for(n=o.focusNode,t=o.focusOffset;n&&n!==l;)n!==this.el&&n.previousSibling?(n=n.previousSibling,t+=n.textContent.length):n=n.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const n=window.getSelection(),o=qt(this.el,{count:this.savedPos});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}hasParent(t,n){const o=n?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,n,o=this.parent){return o===null?!1:t.includes(o.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(t,n,o.parentNode):!1}is(t,n){if(this.selection===null)return!1;switch(t){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===n;case"fontName":const o=document.queryCommandValue(t);return o===`"${n}"`||o===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(t);return n!==void 0?l===n:l}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,n,o=Gt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(t,n)&&(t="outdent",n=null),n==="PRE"&&this.is(t,"PRE")&&(n="P");else if(t==="print"){o();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(t==="link"){const l=this.getParentAttribute("href");if(l===null){const a=this.selectWord(this.selection),i=a?a.toString():"";if(!i.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=An.test(i)?i:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(a.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(t,!1,n),o()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);const o=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const l=t.focusNode,a=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",o[0],"character"),t.modify("move",o[1],"word"),t.extend(l,a),t.modify("extend",o[1],"character"),t.modify("extend",o[0],"word"),t}}var _n=re({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=C(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>k("div",{class:n.value},le(t.default))}});function Ie(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Yt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Tt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Bt({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:l,emit:a}=J(),i=I(null);let u=null;function b(c){return i.value===null?!1:c===void 0||c.touches===void 0||c.touches.length<=1}const p={};n===void 0&&(Object.assign(p,{hide(c){l.hide(c)},toggle(c){l.toggle(c),c.qAnchorHandled=!0},toggleKey(c){Ge(c,13)===!0&&p.toggle(c)},contextClick(c){l.hide(c),ie(c),ne(()=>{l.show(c),c.qAnchorHandled=!0})},prevent:ie,mobileTouch(c){if(p.mobileCleanup(c),b(c)!==!0)return;l.hide(c),i.value.classList.add("non-selectable");const w=c.target;xe(p,"anchor",[[w,"touchmove","mobileCleanup","passive"],[w,"touchend","mobileCleanup","passive"],[w,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{u=null,l.show(c),c.qAnchorHandled=!0},300)},mobileCleanup(c){i.value.classList.remove("non-selectable"),u!==null&&(clearTimeout(u),u=null),e.value===!0&&c!==void 0&&Ie()}}),n=function(c=o.contextMenu){if(o.noParentEvent===!0||i.value===null)return;let w;c===!0?l.$q.platform.is.mobile===!0?w=[[i.value,"touchstart","mobileTouch","passive"]]:w=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:w=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],xe(p,"anchor",w)});function s(){De(p,"anchor")}function y(c){for(i.value=c;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;n()}function E(){if(o.target===!1||o.target===""||l.$el.parentNode===null)i.value=null;else if(o.target===!0)y(l.$el.parentNode);else{let c=o.target;if(typeof o.target=="string")try{c=document.querySelector(o.target)}catch{c=void 0}c!=null?(i.value=c.$el||c,n()):(i.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return W(()=>o.contextMenu,c=>{i.value!==null&&(s(),n(c))}),W(()=>o.target,()=>{i.value!==null&&s(),E()}),W(()=>o.noParentEvent,c=>{i.value!==null&&(c===!0?s():n())}),ae(()=>{E(),t!==!0&&o.modelValue===!0&&i.value===null&&a("update:modelValue",!1)}),te(()=>{u!==null&&clearTimeout(u),s()}),{anchorEl:i,canShow:b,anchorEvents:p}}function Et(e,t){const n=I(null);let o;function l(u,b){const p=`${b!==void 0?"add":"remove"}EventListener`,s=b!==void 0?b:o;u!==window&&u[p]("scroll",s,Ne.passive),window[p]("scroll",s,Ne.passive),o=b}function a(){n.value!==null&&(l(n.value),n.value=null)}const i=W(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return te(i),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:l}}const Mt={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Rt=["beforeShow","show","beforeHide","hide"];function Pt({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:l,processOnMount:a}){const i=J(),{props:u,emit:b,proxy:p}=i;let s;function y(x){e.value===!0?w(x):E(x)}function E(x){if(u.disable===!0||x!==void 0&&x.qAnchorHandled===!0||t!==void 0&&t(x)!==!0)return;const T=u["onUpdate:modelValue"]!==void 0;T===!0&&(b("update:modelValue",!0),s=x,ne(()=>{s===x&&(s=void 0)})),(u.modelValue===null||T===!1)&&c(x)}function c(x){e.value!==!0&&(e.value=!0,b("beforeShow",x),o!==void 0?o(x):b("show",x))}function w(x){if(u.disable===!0)return;const T=u["onUpdate:modelValue"]!==void 0;T===!0&&(b("update:modelValue",!1),s=x,ne(()=>{s===x&&(s=void 0)})),(u.modelValue===null||T===!1)&&H(x)}function H(x){e.value!==!1&&(e.value=!1,b("beforeHide",x),l!==void 0?l(x):b("hide",x))}function z(x){u.disable===!0&&x===!0?u["onUpdate:modelValue"]!==void 0&&b("update:modelValue",!1):x===!0!==e.value&&(x===!0?c:H)(s)}W(()=>u.modelValue,z),n!==void 0&&gt(i)===!0&&W(()=>p.$route.fullPath,()=>{n.value===!0&&e.value===!0&&w()}),a===!0&&ae(()=>{z(u.modelValue)});const O={show:E,hide:w,toggle:y};return Object.assign(p,O),O}let Fn=1,Hn=document.body;function On(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Fn++}`:e,et.globalNodes!==void 0){const o=et.globalNodes.class;o!==void 0&&(n.className=o)}return Hn.appendChild(n),n}function Ln(e){e.remove()}const me=[];function zn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const n=_e(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=_e(e)}while(e!=null)}function Dn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function At(e,t,n,o){const l=I(!1),a=I(!1);let i=null;const u={},b=o==="dialog"&&Dn(e);function p(y){if(y===!0){rt(u),a.value=!0;return}a.value=!1,l.value===!1&&(b===!1&&i===null&&(i=On(!1,o)),l.value=!0,me.push(e.proxy),mn(u))}function s(y){if(a.value=!1,y!==!0)return;rt(u),l.value=!1;const E=me.indexOf(e.proxy);E!==-1&&me.splice(E,1),i!==null&&(Ln(i),i=null)}return Xt(()=>{s(!0)}),e.proxy.__qPortal=!0,Ue(e.proxy,"contentEl",()=>t.value),{showPortal:p,hidePortal:s,portalIsActive:l,portalIsAccessible:a,renderPortal:()=>b===!0?n():l.value===!0?[k(Jt,{to:i},n())]:void 0}}const Ye={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function $t(e,t=()=>{},n=()=>{}){return{transitionProps:C(()=>{const o=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:C(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function _t(){let e;const t=J();function n(){e=void 0}return Ke(n),te(n),{removeTick:n,registerTick(o){e=o,ne(()=>{e===o&&(pt(t)===!1&&e(),e=void 0)})}}}function Ft(){let e=null;const t=J();function n(){e!==null&&(clearTimeout(e),e=null)}return Ke(n),te(n),{removeTimeout:n,registerTimeout(o,l){n(),pt(t)===!1&&(e=setTimeout(o,l))}}}const se=[];let ve;function Nn(e){ve=e.keyCode===27}function Vn(){ve===!0&&(ve=!1)}function jn(e){ve===!0&&(ve=!1,Ge(e,27)===!0&&se[se.length-1](e))}function Ht(e){window[e]("keydown",Nn),window[e]("blur",Vn),window[e]("keyup",jn),ve=!1}function In(e){Re.is.desktop===!0&&(se.push(e),se.length===1&&Ht("addEventListener"))}function ct(e){const t=se.indexOf(e);t>-1&&(se.splice(t,1),se.length===0&&Ht("removeEventListener"))}const ce=[];function Ot(e){ce[ce.length-1](e)}function Wn(e){Re.is.desktop===!0&&(ce.push(e),ce.length===1&&document.body.addEventListener("focusin",Ot))}function Un(e){const t=ce.indexOf(e);t>-1&&(ce.splice(t,1),ce.length===0&&document.body.removeEventListener("focusin",Ot))}const{notPassiveCapture:qe}=Ne,de=[];function Te(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=me.length-1;for(;n>=0;){const o=me[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=de.length-1;o>=0;o--){const l=de[o];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function Lt(e){de.push(e),de.length===1&&(document.addEventListener("mousedown",Te,qe),document.addEventListener("touchstart",Te,qe))}function Be(e){const t=de.findIndex(n=>n===e);t>-1&&(de.splice(t,1),de.length===0&&(document.removeEventListener("mousedown",Te,qe),document.removeEventListener("touchstart",Te,qe)))}let dt,ft;function Ee(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function zt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const We={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{We[`${e}#ltr`]=e,We[`${e}#rtl`]=e});function Me(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:We[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Kn(e,t){let{top:n,left:o,right:l,bottom:a,width:i,height:u}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],l+=t[0],i+=t[0],u+=t[1]),{top:n,bottom:a,height:u,left:o,right:l,width:i,middle:o+(l-o)/2,center:n+(a-n)/2}}function Qn(e,t,n){let{top:o,left:l}=e.getBoundingClientRect();return o+=t.top,l+=t.left,n!==void 0&&(o+=n[1],l+=n[0]),{top:o,bottom:o+1,height:1,left:l,right:l+1,width:1,middle:l,center:o}}function Zn(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function vt(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function Xe(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Xe(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:l,anchorOrigin:a,selfOrigin:i,absoluteOffset:u,fit:b,cover:p,maxHeight:s,maxWidth:y}=e;if(Re.is.ios===!0&&window.visualViewport!==void 0){const F=document.body.style,{offsetLeft:q,offsetTop:V}=window.visualViewport;q!==dt&&(F.setProperty("--q-pe-left",q+"px"),dt=q),V!==ft&&(F.setProperty("--q-pe-top",V+"px"),ft=V)}const{scrollLeft:E,scrollTop:c}=n,w=u===void 0?Kn(l,p===!0?[0,0]:o):Qn(l,u,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y||"100vw",maxHeight:s||"100vh",visibility:"visible"});const{offsetWidth:H,offsetHeight:z}=n,{elWidth:O,elHeight:x}=b===!0||p===!0?{elWidth:Math.max(w.width,H),elHeight:p===!0?Math.max(w.height,z):z}:{elWidth:H,elHeight:z};let T={maxWidth:y,maxHeight:s};(b===!0||p===!0)&&(T.minWidth=w.width+"px",p===!0&&(T.minHeight=w.height+"px")),Object.assign(n.style,T);const B=Zn(O,x);let M=vt(w,B,a,i);if(u===void 0||o===void 0)Le(M,w,B,a,i);else{const{top:F,left:q}=M;Le(M,w,B,a,i);let V=!1;if(M.top!==F){V=!0;const f=2*o[1];w.center=w.top-=f,w.bottom-=f+2}if(M.left!==q){V=!0;const f=2*o[0];w.middle=w.left-=f,w.right-=f+2}V===!0&&(M=vt(w,B,a,i),Le(M,w,B,a,i))}T={top:M.top+"px",left:M.left+"px"},M.maxHeight!==void 0&&(T.maxHeight=M.maxHeight+"px",w.height>M.maxHeight&&(T.minHeight=T.maxHeight)),M.maxWidth!==void 0&&(T.maxWidth=M.maxWidth+"px",w.width>M.maxWidth&&(T.minWidth=T.maxWidth)),Object.assign(n.style,T),n.scrollTop!==c&&(n.scrollTop=c),n.scrollLeft!==E&&(n.scrollLeft=E)}function Le(e,t,n,o,l){const a=n.bottom,i=n.right,u=sn(),b=window.innerHeight-u,p=document.body.clientWidth;if(e.top<0||e.top+a>b)if(l.vertical==="center")e.top=t[o.vertical]>b/2?Math.max(0,b-a):0,e.maxHeight=Math.min(a,b);else if(t[o.vertical]>b/2){const s=Math.min(b,o.vertical==="center"?t.center:o.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,s),e.top=Math.max(0,s-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,b-e.top);if(e.left<0||e.left+i>p)if(e.maxWidth=Math.min(i,p),l.horizontal==="middle")e.left=t[o.horizontal]>p/2?Math.max(0,p-i):0;else if(t[o.horizontal]>p/2){const s=Math.min(p,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(i,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(i,p-e.left)}var Gn=re({name:"QMenu",inheritAttrs:!1,props:{...Tt,...Mt,...Pe,...Ye,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ee},self:{type:String,validator:Ee},offset:{type:Array,validator:zt},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Rt,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let l=null,a,i,u;const b=J(),{proxy:p}=b,{$q:s}=p,y=I(null),E=I(!1),c=C(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),w=Ae(e,s),{registerTick:H,removeTick:z}=_t(),{registerTimeout:O}=Ft(),{transitionProps:x,transitionStyle:T}=$t(e),{localScrollTarget:B,changeScrollEvent:M,unconfigureScrollTarget:F}=Et(e,R),{anchorEl:q,canShow:V}=Bt({showing:E}),{hide:f}=Pt({showing:E,canShow:V,handleShow:L,handleHide:U,hideOnRouteChange:c,processOnMount:!0}),{showPortal:m,hidePortal:S,renderPortal:g}=At(b,y,d,"menu"),A={anchorEl:q,innerRef:y,onClickOutside(r){if(e.persistent!==!0&&E.value===!0)return f(r),(r.type==="touchstart"||r.target.classList.contains("q-dialog__backdrop"))&&pe(r),!0}},$=C(()=>Me(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),D=C(()=>e.cover===!0?$.value:Me(e.self||"top start",s.lang.rtl)),P=C(()=>(e.square===!0?" q-menu--square":"")+(w.value===!0?" q-menu--dark q-dark":"")),h=C(()=>e.autoClose===!0?{onClick:Z}:{}),_=C(()=>E.value===!0&&e.persistent!==!0);W(_,r=>{r===!0?(In(K),Lt(A)):(ct(K),Be(A))});function Y(){$e(()=>{let r=y.value;r&&r.contains(document.activeElement)!==!0&&(r=r.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.querySelector("[autofocus], [data-autofocus]")||r,r.focus({preventScroll:!0}))})}function L(r){if(l=e.noRefocus===!1?document.activeElement:null,Wn(j),m(),R(),a=void 0,r!==void 0&&(e.touchPosition||e.contextMenu)){const N=en(r);if(N.left!==void 0){const{top:G,left:oe}=q.value.getBoundingClientRect();a={left:N.left-oe,top:N.top-G}}}i===void 0&&(i=W(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,ee)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{ee(),e.noFocus!==!0&&Y()}),O(()=>{s.platform.is.ios===!0&&(u=e.autoClose,y.value.click()),ee(),m(!0),n("show",r)},e.transitionDuration)}function U(r){z(),S(),v(!0),l!==null&&(r===void 0||r.qClickOutside!==!0)&&(((r&&r.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),O(()=>{S(!0),n("hide",r)},e.transitionDuration)}function v(r){a=void 0,i!==void 0&&(i(),i=void 0),(r===!0||E.value===!0)&&(Un(j),F(),Be(A),ct(K)),r!==!0&&(l=null)}function R(){(q.value!==null||e.scrollTarget!==void 0)&&(B.value=yt(q.value,e.scrollTarget),M(B.value,ee))}function Z(r){u!==!0?(zn(p,r),n("click",r)):u=!1}function j(r){_.value===!0&&e.noFocus!==!0&&nn(y.value,r.target)!==!0&&Y()}function K(r){n("escapeKey"),f(r)}function ee(){Xe({targetEl:y.value,offset:e.offset,anchorEl:q.value,anchorOrigin:$.value,selfOrigin:D.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function d(){return k(Qe,x.value,()=>E.value===!0?k("div",{role:"menu",...o,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+P.value,o.class],style:[o.style,T.value],...h.value},le(t.default)):null)}return te(v),Object.assign(p,{focus:Y,updatePosition:ee}),g}});const Yn=Object.keys(bt),Xn=e=>Yn.reduce((t,n)=>{const o=e[n];return o!==void 0&&(t[n]=o),t},{});var Jn=re({name:"QBtnDropdown",props:{...bt,...Ye,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=J(),l=I(e.modelValue),a=I(null),i=kt(),u=C(()=>{const B={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i,"aria-label":e.toggleAriaLabel||o.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(B["aria-disabled"]="true"),B}),b=C(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),p=C(()=>an(e)),s=C(()=>Xn(e));W(()=>e.modelValue,B=>{a.value!==null&&a.value[B?"show":"hide"]()}),W(()=>e.split,T);function y(B){l.value=!0,n("beforeShow",B)}function E(B){n("show",B),n("update:modelValue",!0)}function c(B){l.value=!1,n("beforeHide",B)}function w(B){n("hide",B),n("update:modelValue",!1)}function H(B){n("click",B)}function z(B){ke(B),T(),n("click",B)}function O(B){a.value!==null&&a.value.toggle(B)}function x(B){a.value!==null&&a.value.show(B)}function T(B){a.value!==null&&a.value.hide(B)}return Object.assign(o,{show:x,hide:T,toggle:O}),ae(()=>{e.modelValue===!0&&x()}),()=>{const B=[k(Ce,{class:b.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&B.push(k(Gn,{ref:a,id:i,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:y,onShow:E,onBeforeHide:c,onHide:w},t.default)),e.split===!1?k(fe,{class:"q-btn-dropdown q-btn-dropdown--simple",...s.value,...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:H},{default:()=>le(t.label,[]).concat(B),loading:t.loading}):k(_n,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...p.value,glossy:e.glossy,stretch:e.stretch},()=>[k(fe,{class:"q-btn-dropdown--current",...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:z},{default:t.label,loading:t.loading}),k(fe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...u.value,...p.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>B)])}}}),eo=re({name:"QTooltip",inheritAttrs:!1,props:{...Tt,...Mt,...Ye,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ee},self:{type:String,default:"top middle",validator:Ee},offset:{type:Array,default:()=>[14,14],validator:zt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Rt],setup(e,{slots:t,emit:n,attrs:o}){let l,a;const i=J(),{proxy:{$q:u}}=i,b=I(null),p=I(!1),s=C(()=>Me(e.anchor,u.lang.rtl)),y=C(()=>Me(e.self,u.lang.rtl)),E=C(()=>e.persistent!==!0),{registerTick:c,removeTick:w}=_t(),{registerTimeout:H}=Ft(),{transitionProps:z,transitionStyle:O}=$t(e),{localScrollTarget:x,changeScrollEvent:T,unconfigureScrollTarget:B}=Et(e,L),{anchorEl:M,canShow:F,anchorEvents:q}=Bt({showing:p,configureAnchorEl:Y}),{show:V,hide:f}=Pt({showing:p,canShow:F,handleShow:A,handleHide:$,hideOnRouteChange:E,processOnMount:!0});Object.assign(q,{delayShow:h,delayHide:_});const{showPortal:m,hidePortal:S,renderPortal:g}=At(i,b,v,"tooltip");if(u.platform.is.mobile===!0){const R={anchorEl:M,innerRef:b,onClickOutside(j){return f(j),j.target.classList.contains("q-dialog__backdrop")&&pe(j),!0}},Z=C(()=>e.modelValue===null&&e.persistent!==!0&&p.value===!0);W(Z,j=>{(j===!0?Lt:Be)(R)}),te(()=>{Be(R)})}function A(R){m(),c(()=>{a=new MutationObserver(()=>P()),a.observe(b.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),P(),L()}),l===void 0&&(l=W(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,P)),H(()=>{m(!0),n("show",R)},e.transitionDuration)}function $(R){w(),S(),D(),H(()=>{S(!0),n("hide",R)},e.transitionDuration)}function D(){a!==void 0&&(a.disconnect(),a=void 0),l!==void 0&&(l(),l=void 0),B(),De(q,"tooltipTemp")}function P(){Xe({targetEl:b.value,offset:e.offset,anchorEl:M.value,anchorOrigin:s.value,selfOrigin:y.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function h(R){if(u.platform.is.mobile===!0){Ie(),document.body.classList.add("non-selectable");const Z=M.value,j=["touchmove","touchcancel","touchend","click"].map(K=>[Z,K,"delayHide","passiveCapture"]);xe(q,"tooltipTemp",j)}H(()=>{V(R)},e.delay)}function _(R){u.platform.is.mobile===!0&&(De(q,"tooltipTemp"),Ie(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),H(()=>{f(R)},e.hideDelay)}function Y(){if(e.noParentEvent===!0||M.value===null)return;const R=u.platform.is.mobile===!0?[[M.value,"touchstart","delayShow","passive"]]:[[M.value,"mouseenter","delayShow","passive"],[M.value,"mouseleave","delayHide","passive"]];xe(q,"anchor",R)}function L(){if(M.value!==null||e.scrollTarget!==void 0){x.value=yt(M.value,e.scrollTarget);const R=e.noParentEvent===!0?P:f;T(x.value,R)}}function U(){return p.value===!0?k("div",{...o,ref:b,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,O.value],role:"tooltip"},le(t.default)):null}function v(){return k(Qe,z.value,U)}return te(D),Object.assign(i.proxy,{updatePosition:P}),g}}),to=re({name:"QItem",props:{...Pe,...rn,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=J(),l=Ae(e,o),{hasLink:a,linkAttrs:i,linkClass:u,linkTag:b,navigateOnClick:p}=un(),s=I(null),y=I(null),E=C(()=>e.clickable===!0||a.value===!0||e.tag==="label"),c=C(()=>e.disable!==!0&&E.value===!0),w=C(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?u.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(c.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),H=C(()=>{if(e.insetLevel===void 0)return null;const T=o.lang.rtl===!0?"Right":"Left";return{["padding"+T]:16+e.insetLevel*56+"px"}});function z(T){c.value===!0&&(y.value!==null&&(T.qKeyEvent!==!0&&document.activeElement===s.value?y.value.focus():document.activeElement===y.value&&s.value.focus()),p(T))}function O(T){if(c.value===!0&&Ge(T,13)===!0){pe(T),T.qKeyEvent=!0;const B=new MouseEvent("click",T);B.qKeyEvent=!0,s.value.dispatchEvent(B)}n("keyup",T)}function x(){const T=on(t.default,[]);return c.value===!0&&T.unshift(k("div",{class:"q-focus-helper",tabindex:-1,ref:y})),T}return()=>{const T={ref:s,class:w.value,style:H.value,role:"listitem",onClick:z,onKeyup:O};return c.value===!0?(T.tabindex=e.tabindex||"0",Object.assign(T,i.value)):E.value===!0&&(T["aria-disabled"]="true"),k(b.value,T,x())}}}),ht=re({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=C(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>k("div",{class:n.value},le(t.default))}});function Dt(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function Je(e){return k("div",{class:"q-editor__toolbar-group"},e)}function Nt(e,t,n,o=!1){const l=o||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),a=[];if(t.tip&&e.$q.platform.is.desktop){const i=t.key?k("div",[k("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;a.push(k(eo,{delay:1e3},()=>[k("div",{innerHTML:t.tip}),i]))}return k(fe,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:l?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(i){n&&n(),Dt(i,t,e)}},()=>a)}function no(e,t){const n=t.list==="only-icons";let o=t.label,l=t.icon!==null?t.icon:void 0,a,i;function u(){p.component.proxy.hide()}if(n)i=t.options.map(s=>{const y=s.type===void 0?e.caret.is(s.cmd,s.param):!1;return y&&(o=s.tip,l=s.icon!==null?s.icon:void 0),Nt(e,s,u,y)}),a=e.toolbarBackgroundClass.value,i=[Je(i)];else{const s=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,y=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,E=t.list==="no-icons";i=t.options.map(c=>{const w=c.disable?c.disable(e):!1,H=c.type===void 0?e.caret.is(c.cmd,c.param):!1;H&&(o=c.tip,l=c.icon!==null?c.icon:void 0);const z=c.htmlTip;return k(to,{active:H,activeClass:s,clickable:!0,disable:w,dense:!0,onClick(O){u(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),Dt(O,c,e)}},()=>[E===!0?null:k(ht,{class:H?s:y,side:!0},()=>k(Ce,{name:c.icon!==null?c.icon:void 0})),k(ht,z?()=>k("div",{class:"text-no-wrap",innerHTML:c.htmlTip}):c.tip?()=>k("div",{class:"text-no-wrap"},c.tip):void 0)])}),a=[e.toolbarBackgroundClass.value,y]}const b=t.highlight&&o!==t.label,p=k(Jn,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:b?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:b&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:o,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:l,contentClass:a,onShow:s=>e.emit("dropdownShow",s),onHide:s=>e.emit("dropdownHide",s),onBeforeShow:s=>e.emit("dropdownBeforeShow",s),onBeforeHide:s=>e.emit("dropdownBeforeHide",s)},()=>i);return p}function oo(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>Je(t.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?le(e.slots[n.slot]):n.type==="dropdown"?no(e,n):Nt(e,n))))}function lo(e,t,n,o={}){const l=Object.keys(o);if(l.length===0)return{};const a={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return l.forEach(i=>{const u=o[i];a[i]={cmd:"fontName",param:u,icon:n,tip:u,htmlTip:`<font face="${u}">${u}</font>`}}),a}function io(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const o=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[k("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),k("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:l=>{ke(l),n=l.target.value},onKeydown:l=>{if(Ze(l)!==!0)switch(l.keyCode){case 13:return ie(l),o();case 27:ie(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Je([k(fe,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),k(fe,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}let he=0;const ao={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ro=["update:fullscreen","fullscreen"];function uo(){const e=J(),{props:t,emit:n,proxy:o}=e;let l,a,i;const u=I(!1);gt(e)===!0&&W(()=>o.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&s()}),W(()=>t.fullscreen,y=>{u.value!==y&&b()}),W(u,y=>{n("update:fullscreen",y),n("fullscreen",y)});function b(){u.value===!0?s():p()}function p(){u.value!==!0&&(u.value=!0,i=o.$el.parentNode,i.replaceChild(a,o.$el),document.body.appendChild(o.$el),he++,he===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:s},tt.add(l))}function s(){u.value===!0&&(l!==void 0&&(tt.remove(l),l=void 0),i.replaceChild(o.$el,a),u.value=!1,he=Math.max(0,he-1),he===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return tn(()=>{a=document.createElement("span")}),ae(()=>{t.fullscreen===!0&&p()}),te(s),Object.assign(o,{toggleFullscreen:b,setFullscreen:p,exitFullscreen:s}),{inFullscreen:u,toggleFullscreen:b}}const so=Object.prototype.toString,ze=Object.prototype.hasOwnProperty,co=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function mt(e){if(e!==Object(e)||co.has(so.call(e))===!0||e.constructor&&ze.call(e,"constructor")===!1&&ze.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||ze.call(e,t)}function Vt(){let e,t,n,o,l,a,i=arguments[0]||{},u=1,b=!1;const p=arguments.length;for(typeof i=="boolean"&&(b=i,i=arguments[1]||{},u=2),Object(i)!==i&&typeof i!="function"&&(i={}),p===u&&(i=this,u--);u<p;u++)if((e=arguments[u])!==null)for(t in e)n=i[t],o=e[t],i!==o&&(b===!0&&o&&((l=Array.isArray(o))||mt(o)===!0)?(l===!0?a=Array.isArray(n)===!0?n:[]:a=mt(n)===!0?n:{},i[t]=Vt(b,a,o)):o!==void 0&&(i[t]=o));return i}var bo=re({name:"QEditor",props:{...Pe,...ao,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...ro,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:n,attrs:o}){const{proxy:l,vnode:a}=J(),{$q:i}=l,u=Ae(e,i),{inFullscreen:b,toggleFullscreen:p}=uo(),s=wt(o,a),y=I(null),E=I(null),c=I(null),w=I(!1),H=C(()=>!e.readonly&&!e.disable);let z,O,x=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),z=window.getComputedStyle(document.body).fontFamily;const T=C(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),B=C(()=>{const d=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:d,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!H.value,size:"sm"}}),M=C(()=>{const d=i.lang.editor,r=i.iconSet.editor;return{bold:{cmd:"bold",icon:r.bold,tip:d.bold,key:66},italic:{cmd:"italic",icon:r.italic,tip:d.italic,key:73},strike:{cmd:"strikeThrough",icon:r.strikethrough,tip:d.strikethrough,key:83},underline:{cmd:"underline",icon:r.underline,tip:d.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:r.unorderedList,tip:d.unorderedList},ordered:{cmd:"insertOrderedList",icon:r.orderedList,tip:d.orderedList},subscript:{cmd:"subscript",icon:r.subscript,tip:d.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:r.superscript,tip:d.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:N=>N.caret&&!N.caret.can("link"),icon:r.hyperlink,tip:d.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:r.toggleFullscreen,tip:d.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:r.viewSource,tip:d.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:r.quote,tip:d.quote,key:81},left:{cmd:"justifyLeft",icon:r.left,tip:d.left},center:{cmd:"justifyCenter",icon:r.center,tip:d.center},right:{cmd:"justifyRight",icon:r.right,tip:d.right},justify:{cmd:"justifyFull",icon:r.justify,tip:d.justify},print:{type:"no-state",cmd:"print",icon:r.print,tip:d.print,key:80},outdent:{type:"no-state",disable:N=>N.caret&&!N.caret.can("outdent"),cmd:"outdent",icon:r.outdent,tip:d.outdent},indent:{type:"no-state",disable:N=>N.caret&&!N.caret.can("indent"),cmd:"indent",icon:r.indent,tip:d.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:r.removeFormat,tip:d.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:r.hr,tip:d.hr},undo:{type:"no-state",cmd:"undo",icon:r.undo,tip:d.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:r.redo,tip:d.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:r.heading1||r.heading,tip:d.heading1,htmlTip:`<h1 class="q-ma-none">${d.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:r.heading2||r.heading,tip:d.heading2,htmlTip:`<h2 class="q-ma-none">${d.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:r.heading3||r.heading,tip:d.heading3,htmlTip:`<h3 class="q-ma-none">${d.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:r.heading4||r.heading,tip:d.heading4,htmlTip:`<h4 class="q-ma-none">${d.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:r.heading5||r.heading,tip:d.heading5,htmlTip:`<h5 class="q-ma-none">${d.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:r.heading6||r.heading,tip:d.heading6,htmlTip:`<h6 class="q-ma-none">${d.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:r.heading,tip:d.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:r.code,htmlTip:`<code>${d.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:r.size1||r.size,tip:d.size1,htmlTip:`<font size="1">${d.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:r.size2||r.size,tip:d.size2,htmlTip:`<font size="2">${d.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:r.size3||r.size,tip:d.size3,htmlTip:`<font size="3">${d.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:r.size4||r.size,tip:d.size4,htmlTip:`<font size="4">${d.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:r.size5||r.size,tip:d.size5,htmlTip:`<font size="5">${d.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:r.size6||r.size,tip:d.size6,htmlTip:`<font size="6">${d.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:r.size7||r.size,tip:d.size7,htmlTip:`<font size="7">${d.size7}</font>`}}}),F=C(()=>{const d=e.definitions||{},r=e.definitions||e.fonts?Vt(!0,{},M.value,d,lo(z,i.lang.editor.defaultFont,i.iconSet.editor.font,e.fonts)):M.value;return e.toolbar.map(N=>N.map(G=>{if(G.options)return{type:"dropdown",icon:G.icon,label:G.label,size:"sm",dense:!0,fixedLabel:G.fixedLabel,fixedIcon:G.fixedIcon,highlight:G.highlight,list:G.list,options:G.options.map(jt=>r[jt])};const oe=r[G];return oe?oe.type==="no-state"||d[G]&&(oe.cmd===void 0||M.value[oe.cmd]&&M.value[oe.cmd].type==="no-state")?oe:Object.assign({type:"toggle"},oe):{type:"slot",slot:G}}))}),q={$q:i,props:e,slots:t,emit:n,inFullscreen:b,toggleFullscreen:p,runCmd:Z,isViewingSource:w,editLinkUrl:c,toolbarBackgroundClass:T,buttonProps:B,contentRef:E,buttons:F,setContent:R};W(()=>e.modelValue,d=>{x!==d&&(x=d,R(d,!0))}),W(c,d=>{n(`link${d?"Show":"Hide"}`)});const V=C(()=>e.toolbar&&e.toolbar.length!==0),f=C(()=>{const d={},r=N=>{N.key&&(d[N.key]={cmd:N.cmd,param:N.param})};return F.value.forEach(N=>{N.forEach(G=>{G.options?G.options.forEach(r):r(G)})}),d}),m=C(()=>b.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),S=C(()=>`q-editor q-editor--${w.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(b.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(u.value===!0?" q-editor--dark q-dark":"")),g=C(()=>[e.contentClass,"q-editor__content",{col:b.value,"overflow-auto":b.value||e.maxHeight}]),A=C(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function $(){if(E.value!==null){const d=`inner${w.value===!0?"Text":"HTML"}`,r=E.value[d];r!==e.modelValue&&(x=r,n("update:modelValue",r))}}function D(d){if(n("keydown",d),d.ctrlKey!==!0||Ze(d)===!0){j();return}const r=d.keyCode,N=f.value[r];if(N!==void 0){const{cmd:G,param:oe}=N;pe(d),Z(G,oe,!1)}}function P(d){j(),n("click",d)}function h(d){if(E.value!==null){const{scrollTop:r,scrollHeight:N}=E.value;O=N-r}q.caret.save(),n("blur",d)}function _(d){ne(()=>{E.value!==null&&O!==void 0&&(E.value.scrollTop=E.value.scrollHeight-O)}),n("focus",d)}function Y(d){const r=y.value;if(r!==null&&r.contains(d.target)===!0&&(d.relatedTarget===null||r.contains(d.relatedTarget)!==!0)){const N=`inner${w.value===!0?"Text":"HTML"}`;q.caret.restorePosition(E.value[N].length),j()}}function L(d){const r=y.value;r!==null&&r.contains(d.target)===!0&&(d.relatedTarget===null||r.contains(d.relatedTarget)!==!0)&&(q.caret.savePosition(),j())}function U(){O=void 0}function v(d){q.caret.save()}function R(d,r){if(E.value!==null){r===!0&&q.caret.savePosition();const N=`inner${w.value===!0?"Text":"HTML"}`;E.value[N]=d,r===!0&&(q.caret.restorePosition(E.value[N].length),j())}}function Z(d,r,N=!0){K(),q.caret.restore(),q.caret.apply(d,r,()=>{K(),q.caret.save(),N&&j()})}function j(){setTimeout(()=>{c.value=null,l.$forceUpdate()},1)}function K(){$e(()=>{E.value!==null&&E.value.focus({preventScroll:!0})})}function ee(){return E.value}return ae(()=>{q.caret=l.caret=new $n(E.value,q),R(e.modelValue),j(),document.addEventListener("selectionchange",v)}),te(()=>{document.removeEventListener("selectionchange",v)}),Object.assign(l,{runCmd:Z,refreshToolbar:j,focus:K,getContentEl:ee}),()=>{let d;if(V.value){const r=[k("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+T.value},oo(q))];c.value!==null&&r.push(k("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+T.value},io(q))),d=k("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},r)}return k("div",{ref:y,class:S.value,style:{height:b.value===!0?"100%":null},...A.value,onFocusin:Y,onFocusout:L},[d,k("div",{ref:E,style:m.value,class:g.value,contenteditable:H.value,placeholder:e.placeholder,...s.listeners.value,onInput:$,onKeydown:D,onClick:P,onBlur:h,onFocus:_,onMousedown:U,onTouchstartPassive:U})])}}});export{po as Q,bo as a};
